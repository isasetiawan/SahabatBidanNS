"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = require("@angular/core");
var nativescript_angular_1 = require("nativescript-angular");
var rencana_1 = require("./rencana");
var rencana_persalinan_service_1 = require("../rencana-persalinan.service");
var Toast = require("nativescript-toast");
var ModalAddPlansComponent = (function () {
    function ModalAddPlansComponent(params, serv) {
        this.params = params;
        this.serv = serv;
        this.penolongs = [
            { key: 1, label: "Keluarga" },
            { key: 2, label: "Dukun" },
            { key: 3, label: "Bidan" },
            { key: 4, label: "dr. Umum" },
            { key: 5, label: "dr. Spesialis" },
            { key: 6, label: "Lain" },
            { key: 7, label: "Tidak ada" },
        ];
        this.tempats = [
            { key: 1, label: "Rumah" },
            { key: 2, label: "Poskesdes" },
            { key: 3, label: "Pustu" },
            { key: 4, label: "Puskesmas" },
            { key: 5, label: "Rumah Sakit Bersalin" },
            { key: 6, label: "Rumah Sakit Ibu Anak" },
            { key: 7, label: "Rumah Sakit" },
            { key: 8, label: "Rumah Sakit Odha" },
        ];
        this.pendampings = [
            { key: 1, label: "Suami" },
            { key: 2, label: "Keluarga" },
            { key: 3, label: "Teman" },
            { key: 4, label: "Tetangga" },
            { key: 5, label: "Lain" },
            { key: 6, label: "Tidak Ada" },
        ];
        this.transportasies = [
            { key: 1, label: "Suami" },
            { key: 2, label: "Keluarga" },
            { key: 3, label: "Teman" },
            { key: 4, label: "Tetangga" },
            { key: 5, label: "Lain" },
            { key: 6, label: "Tidak Ada" },
        ];
        this.pendonors = [
            { key: 1, label: "Suami" },
            { key: 2, label: "Keluarga" },
            { key: 3, label: "Teman" },
            { key: 4, label: "Tetangga" },
            { key: 5, label: "Lain" },
            { key: 6, label: "Tidak Ada" },
        ];
        console.log(JSON.stringify(this.params.context));
        this.id_kehamilan = params.context.id_kehamilan;
        if (this.params.context.plan) {
            this.isedit = true;
            this.rencana = this.params.context.plan;
        }
        else {
            this.isedit = false;
            this.rencana = new rencana_1.Rencana();
        }
    }
    ModalAddPlansComponent.prototype.ngOnInit = function () {
    };
    ModalAddPlansComponent.prototype.submit = function () {
        var _this = this;
        console.log(JSON.stringify(this.rencana));
        if (this.isedit) {
            this.serv.edit(this.id_kehamilan, this.rencana.id, this.rencana).subscribe(function (res) {
                Toast.makeText(res.message).show();
                _this.params.closeCallback();
            });
        }
        else {
            this.serv.addplan(this.id_kehamilan, this.rencana).subscribe(function (res) {
                Toast.makeText(res.message).show();
                _this.params.closeCallback();
            });
        }
    };
    ModalAddPlansComponent = __decorate([
        core_1.Component({
            moduleId: module.id,
            selector: 'app-modal-add-plans',
            templateUrl: './modal-add-plans.component.html',
            styleUrls: ['./modal-add-plans.component.css'],
            providers: [rencana_persalinan_service_1.RencanaPersalinanService]
        }),
        __metadata("design:paramtypes", [nativescript_angular_1.ModalDialogParams, rencana_persalinan_service_1.RencanaPersalinanService])
    ], ModalAddPlansComponent);
    return ModalAddPlansComponent;
}());
exports.ModalAddPlansComponent = ModalAddPlansComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kYWwtYWRkLXBsYW5zLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIm1vZGFsLWFkZC1wbGFucy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxzQ0FBa0Q7QUFDbEQsNkRBQXVEO0FBQ3ZELHFDQUFrQztBQUNsQyw0RUFBdUU7QUFDdkUsMENBQTRDO0FBUzVDO0lBc0RJLGdDQUFvQixNQUF3QixFQUFVLElBQTZCO1FBQS9ELFdBQU0sR0FBTixNQUFNLENBQWtCO1FBQVUsU0FBSSxHQUFKLElBQUksQ0FBeUI7UUFoRG5GLGNBQVMsR0FBRztZQUNSLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBRSxLQUFLLEVBQUMsVUFBVSxFQUFDO1lBQ3pCLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBRSxLQUFLLEVBQUMsT0FBTyxFQUFDO1lBQ3RCLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBRSxLQUFLLEVBQUMsT0FBTyxFQUFDO1lBQ3RCLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBRSxLQUFLLEVBQUMsVUFBVSxFQUFDO1lBQ3pCLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBRSxLQUFLLEVBQUMsZUFBZSxFQUFDO1lBQzlCLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBRSxLQUFLLEVBQUMsTUFBTSxFQUFDO1lBQ3JCLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBRSxLQUFLLEVBQUMsV0FBVyxFQUFDO1NBQzdCLENBQUM7UUFFRixZQUFPLEdBQUc7WUFDTixFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUUsS0FBSyxFQUFDLE9BQU8sRUFBQztZQUN0QixFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUUsS0FBSyxFQUFDLFdBQVcsRUFBQztZQUMxQixFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUUsS0FBSyxFQUFDLE9BQU8sRUFBQztZQUN0QixFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUUsS0FBSyxFQUFDLFdBQVcsRUFBQztZQUMxQixFQUFD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ICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7TW9kYWxEaWFsb2dQYXJhbXN9IGZyb20gXCJuYXRpdmVzY3JpcHQtYW5ndWxhclwiO1xuaW1wb3J0IHtSZW5jYW5hfSBmcm9tIFwiLi9yZW5jYW5hXCI7XG5pbXBvcnQge1JlbmNhbmFQZXJzYWxpbmFuU2VydmljZX0gZnJvbSBcIi4uL3JlbmNhbmEtcGVyc2FsaW5hbi5zZXJ2aWNlXCI7XG5pbXBvcnQgKiBhcyBUb2FzdCBmcm9tIFwibmF0aXZlc2NyaXB0LXRvYXN0XCI7XG5cbkBDb21wb25lbnQoe1xuICBtb2R1bGVJZDogbW9kdWxlLmlkLFxuICBzZWxlY3RvcjogJ2FwcC1tb2RhbC1hZGQtcGxhbnMnLFxuICB0ZW1wbGF0ZVVybDogJy4vbW9kYWwtYWRkLXBsYW5zLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vbW9kYWwtYWRkLXBsYW5zLmNvbXBvbmVudC5jc3MnXSxcbiAgICBwcm92aWRlcnM6W1JlbmNhbmFQZXJzYWxpbmFuU2VydmljZV1cbn0pXG5leHBvcnQgY2xhc3MgTW9kYWxBZGRQbGFuc0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICBpZF9rZWhhbWlsYW46bnVtYmVyO1xuICAgIHJlbmNhbmE6UmVuY2FuYTtcbiAgICBpc2VkaXQ6Ym9vbGVhbjtcblxuICAgIHBlbm9sb25ncyA9IFtcbiAgICAgICAge2tleToxLCBsYWJlbDpcIktlbHVhcmdhXCJ9LFxuICAgICAgICB7a2V5OjIsIGxhYmVsOlwiRHVrdW5cIn0sXG4gICAgICAgIHtrZXk6MywgbGFiZWw6XCJCaWRhblwifSxcbiAgICAgICAge2tleTo0LCBsYWJlbDpcImRyLiBVbXVtXCJ9LFxuICAgICAgICB7a2V5OjUsIGxhYmVsOlwiZHIuIFNwZXNpYWxpc1wifSxcbiAgICAgICAge2tleTo2LCBsYWJlbDpcIkxhaW5cIn0sXG4gICAgICAgIHtrZXk6NywgbGFiZWw6XCJUaWRhayBhZGFcIn0sXG4gICAgXTtcblxuICAgIHRlbXBhdHMgPSBbXG4gICAgICAgIHtrZXk6MSwgbGFiZWw6XCJSdW1haFwifSxcbiAgICAgICAge2tleToyLCBsYWJlbDpcIlBvc2tlc2Rlc1wifSxcbiAgICAgICAge2tleTozLCBsYWJlbDpcIlB1c3R1XCJ9LFxuICAgICAgICB7a2V5OjQsIGxhYmVsOlwiUHVza2VzbWFzXCJ9LFxuICAgICAgICB7a2V5OjUsIGxhYmVsOlwiUnVtYWggU2FraXQgQmVyc2FsaW5cIn0sXG4gICAgICAgIHtrZXk6NiwgbGFiZWw6XCJSdW1haCBTYWtpdCBJYnUgQW5ha1wifSxcbiAgICAgICAge2tleTo3LCBsYWJlbDpcIlJ1bWFoIFNha2l0XCJ9LFxuICAgICAgICB7a2V5OjgsIGxhYmVsOlwiUnVtYWggU2FraXQgT2RoYVwifSxcbiAgICBdO1xuXG4gICAgcGVuZGFtcGluZ3MgPSBbXG4gICAgICAgIHtrZXk6MSwgbGFiZWw6XCJTdWFtaVwifSxcbiAgICAgICAge2tleToyLCBsYWJlbDpcIktlbHVhcmdhXCJ9LFxuICAgICAgICB7a2V5OjMsIGxhYmVsOlwiVGVtYW5cIn0sXG4gICAgICAgIHtrZXk6NCwgbGFiZWw6XCJUZXRhbmdnYVwifSxcbiAgICAgICAge2tleTo1LCBsYWJlbDpcIkxhaW5cIn0sXG4gICAgICAgIHtrZXk6NiwgbGFiZWw6XCJUaWRhayBBZGFcIn0sXG4gICAgXTtcblxuICAgIHRyYW5zcG9ydGFzaWVzID0gW1xuICAgICAgICB7a2V5OjEsIGxhYmVsOlwiU3VhbWlcIn0sXG4gICAgICAgIHtrZXk6MiwgbGFiZWw6XCJLZWx1YXJnYVwifSxcbiAgICAgICAge2tleTozLCBsYWJlbDpcIlRlbWFuXCJ9LFxuICAgICAgICB7a2V5OjQsIGxhYmVsOlwiVGV0YW5nZ2FcIn0sXG4gICAgICAgIHtrZXk6NSwgbGFiZWw6XCJMYWluXCJ9LFxuICAgICAgICB7a2V5OjYsIGxhYmVsOlwiVGlkYWsgQWRhXCJ9LFxuICAgIF07XG5cbiAgICBwZW5kb25vcnMgPSBbXG4gICAgICAgIHtrZXk6MSwgbGFiZWw6XCJTdWFtaVwifSxcbiAgICAgICAge2tleToyLCBsYWJlbDpcIktlbHVhcmdhXCJ9LFxuICAgICAgICB7a2V5OjMsIGxhYmVsOlwiVGVtYW5cIn0sXG4gICAgICAgIHtrZXk6NCwgbGFiZWw6XCJUZXRhbmdnYVwifSxcbiAgICAgICAge2tleTo1LCBsYWJlbDpcIkxhaW5cIn0sXG4gICAgICAgIHtrZXk6NiwgbGFiZWw6XCJUaWRhayBBZGFcIn0sXG4gICAgXTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGFyYW1zOk1vZGFsRGlhbG9nUGFyYW1zLCBwcml2YXRlIHNlcnY6UmVuY2FuYVBlcnNhbGluYW5TZXJ2aWNlKXtcblxuICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh0aGlzLnBhcmFtcy5jb250ZXh0KSk7XG5cbiAgICAgICAgdGhpcy5pZF9rZWhhbWlsYW4gPSBwYXJhbXMuY29udGV4dC5pZF9rZWhhbWlsYW47XG4gICAgICAgIGlmICh0aGlzLnBhcmFtcy5jb250ZXh0LnBsYW4pIHtcbiAgICAgICAgICAgIHRoaXMuaXNlZGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucmVuY2FuYSA9IHRoaXMucGFyYW1zLmNvbnRleHQucGxhblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc2VkaXQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucmVuY2FuYSA9IG5ldyBSZW5jYW5hKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcblxuICAgIH1cblxuICAgIHN1Ym1pdCgpe1xuICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh0aGlzLnJlbmNhbmEpKTtcbiAgICAgICAgaWYgKHRoaXMuaXNlZGl0KSB7XG4gICAgICAgICAgICB0aGlzLnNlcnYuZWRpdCh0aGlzLmlkX2tlaGFtaWxhbix0aGlzLnJlbmNhbmEuaWQsdGhpcy5yZW5jYW5hKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgcmVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQocmVzLm1lc3NhZ2UpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuY2xvc2VDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNlcnYuYWRkcGxhbih0aGlzLmlkX2tlaGFtaWxhbiwgdGhpcy5yZW5jYW5hKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgcmVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQocmVzLm1lc3NhZ2UpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuY2xvc2VDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG4iXX0=