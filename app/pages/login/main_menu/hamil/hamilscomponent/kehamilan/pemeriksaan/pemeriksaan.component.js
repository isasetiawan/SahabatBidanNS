"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = require("@angular/core");
var Pemeriksaan_1 = require("./Pemeriksaan");
var router_1 = require("@angular/router");
var pemeriksaan_service_1 = require("../pemeriksaan.service");
var Toast = require("nativescript-toast");
var nativescript_angular_1 = require("nativescript-angular");
var app = require("tns-core-modules/application");
var appSettings = require("application-settings");
var clipboard = require("nativescript-clipboard");
var PemeriksaanComponent = (function () {
    function PemeriksaanComponent(actRoute, serv, rouex) {
        var _this = this;
        this.actRoute = actRoute;
        this.serv = serv;
        this.rouex = rouex;
        this.keadanumum = [
            { key: 0, label: 'Baik' },
            { key: 1, label: 'Lemah' },
            { key: 2, label: 'Tampak Anemis' }
        ];
        this.keadaankhusus = [
            { key: 0, label: 'Tidak Ada' },
            { key: 1, label: 'Bengkak Muka/Tungkai' },
            { key: 2, label: 'Kembar Air' },
            { key: 3, label: 'Kejang-kejang' }
        ];
        this.pone = [{ key: 0, label: '-' }, { key: 1, label: '+' }];
        this.react = [{ key: 0, label: 'non-reaktif' }, { key: 1, label: 'reaktif' }];
        this.proteinurine = ["Tidak Diperiksa", "Negatif", "+1", "+2", "Lebih dari +2 "];
        this.glukosa = ["Tidak diperiksa", "Reduksi +", "Reduksi -"];
        this.goldar = ["Belum diperiksa", "A", "B", "AB", "O"];
        this.yatak = [{ key: 0, label: 'Tidak' }, { key: 1, label: 'Ya' }];
        this.hima = [{ key: 0, label: 'mati' }, { key: 1, label: 'hidup' }];
        this.tfunit = [{ key: 0, label: 'Jari' }, { key: 1, label: 'Centimeter' }];
        this.komplikasi = [
            { key: 0, label: 'HDK' },
            { key: 1, label: 'Abortus' },
            { key: 2, label: 'Perdarahan' },
            { key: 3, label: 'Infeksi' },
            { key: 4, label: 'KPD' },
            { key: 7, label: 'Sungsang' },
            { key: 5, label: 'Lainnya' },
            { key: 6, label: 'Tidak ada' }
        ];
        this.dirujuk = [
            { key: 0, label: 'Puskesmas' },
            { key: 1, label: 'Rumah sakit bersalin' },
            { key: 2, label: 'Rumah salit ibu anak' },
            { key: 3, label: 'Rumah sakit' },
            { key: 4, label: 'Lainnya' },
            { key: 5, label: 'Tidak dirujuk' }
        ];
        this.tempats = [
            "Rumah",
            "Poskesdes",
            "Pustu",
            "Puskesmas",
            "Rumah Sakit Bersalin",
            "Rumah Sakit Ibu Anak",
            "Rumah Sakit",
            "Rumah Sakit Odha",
            "Praktek mandiri",
            "Klinik"
        ];
        this.androidApp = app.android;
        this.isedit = false;
        this.pemeriksaan = new Pemeriksaan_1.Pemeriksaan();
        this.actRoute.queryParams.subscribe(function (params) {
            _this.id_kehamilan = params.id_kehamilan;
            if (params.data) {
                _this.id_pemeriksaan = params.id_pemeriksaan;
                _this.pemeriksaan = JSON.parse(params.data);
                _this.isedit = true;
            }
        });
    }
    PemeriksaanComponent.prototype.save = function () {
        var _this = this;
        if (this.isedit) {
            this.serv.update(this.id_kehamilan, this.pemeriksaan.id, this.pemeriksaan).subscribe(function (res) {
                Toast.makeText(res.message).show();
                _this.rouex.backToPreviousPage();
            });
        }
        else {
            this.serv.store(this.id_kehamilan, this.pemeriksaan).subscribe(function (res) {
                Toast.makeText(res.message).show();
                _this.rouex.backToPreviousPage();
            });
        }
    };
    PemeriksaanComponent.prototype.open_clinton = function () {
        var token_and_id = appSettings.getString("token") + " " + this.id_pemeriksaan;
        clipboard.setText(token_and_id).then(function () { Toast.makeText(token_and_id).show(); });
    };
    PemeriksaanComponent.prototype.ngOnInit = function () { };
    PemeriksaanComponent = __decorate([
        core_1.Component({
            moduleId: module.id,
            selector: 'app-pemeriksaan',
            templateUrl: './pemeriksaan.component.html',
            styleUrls: ['./pemeriksaan.component.css'],
            providers: [pemeriksaan_service_1.PemeriksaanService]
        }),
        __metadata("design:paramtypes", [router_1.ActivatedRoute,
            pemeriksaan_service_1.PemeriksaanService,
            nativescript_angular_1.RouterExtensions])
    ], PemeriksaanComponent);
    return PemeriksaanComponent;
}());
exports.PemeriksaanComponent = PemeriksaanComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGVtZXJpa3NhYW4uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsicGVtZXJpa3NhYW4uY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsc0NBQWtEO0FBQ2xELDZDQUEwQztBQUMxQywwQ0FBK0M7QUFDL0MsOERBQTBEO0FBQzFELDBDQUE0QztBQUM1Qyw2REFBc0Q7QUFDdEQsa0RBQW9EO0FBRXBELElBQUksV0FBVyxHQUFHLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0FBQ2xELElBQUksU0FBUyxHQUFHLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO0FBVWxEO0lBcUVJLDhCQUNZLFFBQXVCLEVBQ3ZCLElBQXVCLEVBQ3ZCLEtBQXNCO1FBSGxDLGlCQWlCQztRQWhCVyxhQUFRLEdBQVIsUUFBUSxDQUFlO1FBQ3ZCLFNBQUksR0FBSixJQUFJLENBQW1CO1FBQ3ZCLFVBQUssR0FBTCxLQUFLLENBQWlCO1FBakVsQyxlQUFVLEdBQUM7WUFDUCxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRTtZQUN6QixFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtZQUMxQixFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLGVBQWUsRUFBRTtTQUNqQyxDQUFDO1FBRU4sa0JBQWEsR0FBQztZQUNWLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFO1lBQzlCLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsc0JBQXNCLEVBQUU7WUFDekMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUU7WUFDL0IsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxlQUFlLEVBQUU7U0FDaEMsQ0FBQztRQUVQLFNBQUksR0FBRyxDQUFFLEVBQUUsR0FBRyxFQUFF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LENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDbkMsS0FBSSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsRUFBRSxDQUFBO1lBQ25DLENBQUMsQ0FFSixDQUFBO1FBQ0wsQ0FBQztJQUNMLENBQUM7SUFJTSwyQ0FBWSxHQUFuQjtRQUNJLElBQUksWUFBWSxHQUFNLFdBQVcsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLFNBQUksSUFBSSxDQUFDLGNBQWdCLENBQUM7UUFDOUUsU0FBUyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBSyxLQUFLLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFBLENBQUEsQ0FBQyxDQUFDLENBQUE7SUFDbkYsQ0FBQztJQUVELHVDQUFRLEdBQVIsY0FBYSxDQUFDO0lBbkhMLG9CQUFvQjtRQVBoQyxnQkFBUyxDQUFDO1lBQ1AsUUFBUSxFQUFFLE1BQU0sQ0FBQyxFQUFFO1lBQ25CLFFBQVEsRUFBRSxpQkFBaUI7WUFDM0IsV0FBVyxFQUFFLDhCQUE4QjtZQUMzQyxTQUFTLEVBQUUsQ0FBQyw2QkFBNkIsQ0FBQztZQUMxQyxTQUFTLEVBQUUsQ0FBQyx3Q0FBa0IsQ0FBQztTQUNsQyxDQUFDO3lDQXVFdUIsdUJBQWM7WUFDbEIsd0NBQWtCO1lBQ2pCLHVDQUFnQjtPQXhFekIsb0JBQW9CLENBcUhoQztJQUFELDJCQUFDO0NBQUEsQUFySEQsSUFxSEM7QUFySFksb0RBQW9CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7UGVtZXJpa3NhYW59IGZyb20gXCIuL1BlbWVyaWtzYWFuXCI7XG5pbXBvcnQge0FjdGl2YXRlZFJvdXRlfSBmcm9tIFwiQGFuZ3VsYXIvcm91dGVyXCI7XG5pbXBvcnQge1BlbWVyaWtzYWFuU2VydmljZX0gZnJvbSBcIi4uL3BlbWVyaWtzYWFuLnNlcnZpY2VcIjtcbmltcG9ydCAqIGFzIFRvYXN0IGZyb20gXCJuYXRpdmVzY3JpcHQtdG9hc3RcIjtcbmltcG9ydCB7Um91dGVyRXh0ZW5zaW9uc30gZnJvbSBcIm5hdGl2ZXNjcmlwdC1hbmd1bGFyXCI7XG5pbXBvcnQgKiBhcyBhcHAgZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvYXBwbGljYXRpb25cIjtcbmltcG9ydCAqIGFzIHBsYXRmb3JtIGZyb20gXCJ0bnMtY29yZS1tb2R1bGVzL3BsYXRmb3JtXCI7XG5sZXQgYXBwU2V0dGluZ3MgPSByZXF1aXJlKFwiYXBwbGljYXRpb24tc2V0dGluZ3NcIik7XG5sZXQgY2xpcGJvYXJkID0gcmVxdWlyZShcIm5hdGl2ZXNjcmlwdC1jbGlwYm9hcmRcIik7XG5cblxuQENvbXBvbmVudCh7XG4gICAgbW9kdWxlSWQ6IG1vZHVsZS5pZCxcbiAgICBzZWxlY3RvcjogJ2FwcC1wZW1lcmlrc2FhbicsXG4gICAgdGVtcGxhdGVVcmw6ICcuL3BlbWVyaWtzYWFuLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9wZW1lcmlrc2Fhbi5jb21wb25lbnQuY3NzJ10sXG4gICAgcHJvdmlkZXJzOiBbUGVtZXJpa3NhYW5TZXJ2aWNlXVxufSlcbmV4cG9ydCBjbGFzcyBQZW1lcmlrc2FhbkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICBwZW1lcmlrc2FhbjpQZW1lcmlrc2FhbjtcbiAgICBpZF9rZWhhbWlsYW46bnVtYmVyO1xuICAgIGlkX3BlbWVyaWtzYWFuOm51bWJlcjtcbiAgICBpc2VkaXQ6Ym9vbGVhbjtcblxuICAgIGtlYWRhbnVtdW09W1xuICAgICAgICB7IGtleTogMCwgbGFiZWw6ICdCYWlrJyB9LFxuICAgICAgICB7IGtleTogMSwgbGFiZWw6ICdMZW1haCcgfSxcbiAgICAgICAgeyBrZXk6IDIsIGxhYmVsOiAnVGFtcGFrIEFuZW1pcycgfVxuICAgICAgICBdO1xuXG4gICAga2VhZGFhbmtodXN1cz1bXG4gICAgICAgIHsga2V5OiAwLCBsYWJlbDogJ1RpZGFrIEFkYScgfSxcbiAgICAgICAgeyBrZXk6IDEsIGxhYmVsOiAnQmVuZ2thayBNdWthL1R1bmdrYWknIH0sXG4gICAgICAgIHsga2V5OiAyLCBsYWJlbDogJ0tlbWJhciBBaXInIH0sXG4gICAgICAgIHsga2V5OiAzLCBsYWJlbDogJ0tlamFuZy1rZWphbmcnIH1cbiAgICAgICAgIF07XG5cbiAgICBwb25lID0gWyB7IGtleTogMCwgbGFiZWw6ICctJyB9LCB7IGtleTogMSwgbGFiZWw6ICcrJyB9IF07XG5cbiAgICByZWFjdCA9IFsgeyBrZXk6IDAsIGxhYmVsOiAnbm9uLXJlYWt0aWYnIH0sIHsga2V5OiAxLCBsYWJlbDogJ3JlYWt0aWYnIH0gXTtcblxuICAgIHByb3RlaW51cmluZSA9IFtcIlRpZGFrIERpcGVyaWtzYVwiLFwiTmVnYXRpZlwiLFwiKzFcIixcIisyXCIsXCJMZWJpaCBkYXJpICsyIFwiXTtcblxuICAgIGdsdWtvc2EgPSBbXCJUaWRhayBkaXBlcmlrc2FcIixcIlJlZHVrc2kgK1wiLFwiUmVkdWtzaSAtXCJdO1xuXG4gICAgZ29sZGFyID1bXCJCZWx1bSBkaXBlcmlrc2FcIixcIkFcIixcIkJcIixcIkFCXCIsXCJPXCJdO1xuXG4gICAgeWF0YWsgPSBbIHsga2V5OiAwLCBsYWJlbDogJ1RpZGFrJyB9LCB7IGtleTogMSwgbGFiZWw6ICdZYScgfSBdO1xuXG4gICAgaGltYSA9IFsgeyBrZXk6IDAsIGxhYmVsOiAnbWF0aScgfSwgeyBrZXk6IDEsIGxhYmVsOiAnaGlkdXAnIH0gXTtcblxuICAgIHRmdW5pdCA9IFt7a2V5OiAwLCBsYWJlbDogJ0phcmknfSwge2tleTogMSwgbGFiZWw6ICdDZW50aW1ldGVyJ31dO1xuXG4gICAga29tcGxpa2FzaSA9IFtcbiAgICAgICAgeyBrZXk6IDAsIGxhYmVsOiAnSERLJyB9LFxuICAgICAgICB7IGtleTogMSwgbGFiZWw6ICdBYm9ydHVzJyB9LFxuICAgICAgICB7IGtleTogMiwgbGFiZWw6ICdQZXJkYXJhaGFuJyB9LFxuICAgICAgICB7IGtleTogMywgbGFiZWw6ICdJbmZla3NpJyB9LFxuICAgICAgICB7IGtleTogNCwgbGFiZWw6ICdLUEQnIH0sXG4gICAgICAgIHsga2V5OiA3LCBsYWJlbDogJ1N1bmdzYW5nJyB9LFxuICAgICAgICB7IGtleTogNSwgbGFiZWw6ICdMYWlubnlhJyB9LFxuICAgICAgICB7IGtleTogNiwgbGFiZWw6ICdUaWRhayBhZGEnIH1cbiAgICAgICAgXTtcblxuICAgIGRpcnVqdWsgPSBbXG4gICAgICAgIHsga2V5OiAwLCBsYWJlbDogJ1B1c2tlc21hcycgfSxcbiAgICAgICAgeyBrZXk6IDEsIGxhYmVsOiAnUnVtYWggc2FraXQgYmVyc2FsaW4nIH0sXG4gICAgICAgIHsga2V5OiAyLCBsYWJlbDogJ1J1bWFoIHNhbGl0IGlidSBhbmFrJyB9LFxuICAgICAgICB7IGtleTogMywgbGFiZWw6ICdSdW1haCBzYWtpdCcgfSxcbiAgICAgICAgeyBrZXk6IDQsIGxhYmVsOiAnTGFpbm55YScgfSxcbiAgICAgICAgeyBrZXk6IDUsIGxhYmVsOiAnVGlkYWsgZGlydWp1aycgfVxuICAgIF07XG5cbiAgICB0ZW1wYXRzID0gW1xuICAgICAgICBcIlJ1bWFoXCIsXG4gICAgICAgIFwiUG9za2VzZGVzXCIsXG4gICAgICAgIFwiUHVzdHVcIixcbiAgICAgICAgXCJQdXNrZXNtYXNcIixcbiAgICAgICAgXCJSdW1haCBTYWtpdCBCZXJzYWxpblwiLFxuICAgICAgICBcIlJ1bWFoIFNha2l0IElidSBBbmFrXCIsXG4gICAgICAgIFwiUnVtYWggU2FraXRcIixcbiAgICAgICAgXCJSdW1haCBTYWtpdCBPZGhhXCIsXG4gICAgICAgIFwiUHJha3RlayBtYW5kaXJpXCIsXG4gICAgICAgIFwiS2xpbmlrXCJcbiAgICBdO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgYWN0Um91dGU6QWN0aXZhdGVkUm91dGUsXG4gICAgICAgIHByaXZhdGUgc2VydjpQZW1lcmlrc2FhblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgcm91ZXg6Um91dGVyRXh0ZW5zaW9uc1xuICAgICkge1xuICAgICAgICB0aGlzLmlzZWRpdCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBlbWVyaWtzYWFuID0gbmV3IFBlbWVyaWtzYWFuKCk7XG4gICAgICAgIHRoaXMuYWN0Um91dGUucXVlcnlQYXJhbXMuc3Vic2NyaWJlKFxuICAgICAgICAgICAgcGFyYW1zID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlkX2tlaGFtaWxhbiA9IHBhcmFtcy5pZF9rZWhhbWlsYW47XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWRfcGVtZXJpa3NhYW4gPSBwYXJhbXMuaWRfcGVtZXJpa3NhYW47XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVtZXJpa3NhYW4gPSA8UGVtZXJpa3NhYW4+IEpTT04ucGFyc2UocGFyYW1zLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzZWRpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHNhdmUoKXtcbiAgICAgICAgaWYgKHRoaXMuaXNlZGl0KXtcbiAgICAgICAgICAgIHRoaXMuc2Vydi51cGRhdGUodGhpcy5pZF9rZWhhbWlsYW4sdGhpcy5wZW1lcmlrc2Fhbi5pZCx0aGlzLnBlbWVyaWtzYWFuKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgcmVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgVG9hc3QubWFrZVRleHQocmVzLm1lc3NhZ2UpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3VleC5iYWNrVG9QcmV2aW91c1BhZ2UoKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgKVxuICAgICAgICB9IGVsc2V7XG4gICAgICAgICAgICB0aGlzLnNlcnYuc3RvcmUodGhpcy5pZF9rZWhhbWlsYW4sdGhpcy5wZW1lcmlrc2Fhbikuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgIHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2VUZXh0KHJlcy5tZXNzYWdlKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm91ZXguYmFja1RvUHJldmlvdXNQYWdlKClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFuZHJvaWRBcHAgPSBhcHAuYW5kcm9pZDtcblxuICAgIHB1YmxpYyBvcGVuX2NsaW50b24oKXtcbiAgICAgICAgbGV0IHRva2VuX2FuZF9pZCA9IGAke2FwcFNldHRpbmdzLmdldFN0cmluZyhcInRva2VuXCIpfSAke3RoaXMuaWRfcGVtZXJpa3NhYW59YDtcbiAgICAgICAgY2xpcGJvYXJkLnNldFRleHQodG9rZW5fYW5kX2lkKS50aGVuKCgpPT57VG9hc3QubWFrZVRleHQodG9rZW5fYW5kX2lkKS5zaG93KCl9KVxuICAgIH1cblxuICAgIG5nT25Jbml0KCkgeyB9XG5cbn1cbiJdfQ==